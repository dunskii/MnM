# ===========================================
# Music 'n Me Backend Environment Variables
# ===========================================
# Copy this file to .env and fill in the values

# -----------------------------
# Server Configuration
# -----------------------------
NODE_ENV=development
PORT=5000
API_PREFIX=/api/v1

# -----------------------------
# Database (PostgreSQL)
# -----------------------------
# Local Docker setup
DATABASE_URL="postgresql://mnm_user:mnm_password@localhost:5432/music_n_me?schema=public"

# Production (DigitalOcean Managed Database)
# DATABASE_URL="postgresql://user:password@host:25060/defaultdb?sslmode=require"

# -----------------------------
# Authentication (JWT)
# -----------------------------
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Password hashing rounds (minimum 12 for production)
BCRYPT_ROUNDS=12

# -----------------------------
# Redis (for Bull queues)
# -----------------------------
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# -----------------------------
# Email (SendGrid)
# -----------------------------
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@musicnme.com.au
SENDGRID_FROM_NAME=Music 'n Me

# -----------------------------
# Payments (Stripe)
# -----------------------------
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# -----------------------------
# Google Drive API (OAuth 2.0)
# -----------------------------
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:5000/api/v1/google-drive/auth/callback

# Google Drive Sync Settings
DRIVE_SYNC_INTERVAL_MINUTES=15
DRIVE_MAX_FILE_SIZE_MB=25

# Encryption key for OAuth tokens (generate with: openssl rand -base64 32)
ENCRYPTION_KEY=your-encryption-key-for-oauth-tokens

# -----------------------------
# File Storage (DigitalOcean Spaces)
# -----------------------------
DO_SPACES_KEY=your-spaces-access-key
DO_SPACES_SECRET=your-spaces-secret-key
DO_SPACES_BUCKET=music-n-me-files
DO_SPACES_REGION=syd1
DO_SPACES_ENDPOINT=https://syd1.digitaloceanspaces.com

# -----------------------------
# Frontend URL (for CORS and emails)
# -----------------------------
FRONTEND_URL=http://localhost:3001

# -----------------------------
# Rate Limiting
# -----------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------
# File Upload
# -----------------------------
MAX_FILE_SIZE=26214400
UPLOAD_DIR=uploads

# -----------------------------
# Logging
# -----------------------------
LOG_LEVEL=debug
